{"ast":null,"code":"// import { counter } from \"@fortawesome/fontawesome-svg-core\";\nimport React,{useState,useEffect}from\"react\";import{BrowserRouter as Router,Route,Routes}from\"react-router-dom\";import Home from\"./pages/Home\";import Books from\"./pages/Books\";import BookInfo from\"./pages/BookInfo\";import{books}from\"./data\";import Nav from\"./components/Nav\";import Footer from\"./components/Footer\";import Cart from\"./pages/Cart\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[cart,setCart]=useState([]);function addItemToCart(book){const dupeItem=cart.find(item=>item.id===book.id);setCart(oldCart=>dupeItem?oldCart.map(item=>item.id===dupeItem.id?{...item,quantity:item.quantity+1}:item):[...oldCart,{...book,quantity:1}]);}function updateCart(item,newQuantity){setCart(oldCart=>oldCart.map(oldItem=>oldItem.id===item.id?{...oldItem,quantity:newQuantity}:oldItem));}function removeItem(item){setCart(oldCart=>oldCart.filter(cartItem=>cartItem.id!==item.id));}function numberOfItems(){let counter=0;cart.forEach(item=>{counter+=+item.quantity;});return counter;}function calcPrices(){let total=0;cart.forEach(item=>{total+=(item.salePrice||item.originalPrice)*item.quantity;});return{subtotal:total*0.9,tax:total*0.1,total};}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Nav,{numberOfItems:numberOfItems()}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{books:books})}),/*#__PURE__*/_jsx(Route,{path:\"/books\",element:/*#__PURE__*/_jsx(Books,{books:books})}),/*#__PURE__*/_jsx(Route,{path:\"/books/:id\",element:/*#__PURE__*/_jsx(BookInfo,{books:books,addItemToCart:addItemToCart})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{cart:cart,updateCart:updateCart,removeItem:removeItem,totals:calcPrices()})})]}),/*#__PURE__*/_jsx(Footer,{})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Home","Books","BookInfo","books","Nav","Footer","Cart","jsx","_jsx","jsxs","_jsxs","App","cart","setCart","addItemToCart","book","dupeItem","find","item","id","oldCart","map","quantity","updateCart","newQuantity","oldItem","removeItem","filter","cartItem","numberOfItems","counter","forEach","calcPrices","total","salePrice","originalPrice","subtotal","tax","children","className","path","element","totals"],"sources":["/Users/pharaohmak/Developer/portfolio/Frontend Simplified/projects/React-My-Library/src/App.js"],"sourcesContent":["// import { counter } from \"@fortawesome/fontawesome-svg-core\";\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\nimport Home from \"./pages/Home\";\nimport Books from \"./pages/Books\";\nimport BookInfo from \"./pages/BookInfo\";\nimport { books } from \"./data\";\nimport Nav from \"./components/Nav\";\nimport Footer from \"./components/Footer\";\nimport Cart from \"./pages/Cart\";\n\nfunction App() {\n  const [cart, setCart] = useState([]);\n\n  function addItemToCart(book) {\n    const dupeItem = cart.find((item) => item.id === book.id);\n    setCart((oldCart) =>\n      dupeItem\n        ? oldCart.map((item) =>\n            item.id === dupeItem.id\n              ? {\n                  ...item,\n                  quantity: item.quantity + 1,\n                }\n              : item\n          )\n        : [...oldCart, { ...book, quantity: 1 }]\n    );\n  }\n\n  function updateCart(item, newQuantity) {\n    \n    setCart((oldCart) =>\n      oldCart.map((oldItem) =>\n        oldItem.id === item.id\n          ? {\n              ...oldItem,\n              quantity: newQuantity,\n            }\n          : oldItem\n      )\n    );\n  }\n\n  function removeItem(item) {\n    setCart((oldCart) => oldCart.filter((cartItem) => cartItem.id !== item.id));\n  }\n\n  function numberOfItems() {\n    let counter = 0;\n    cart.forEach((item) => {\n      counter += +item.quantity;\n    });\n    return counter;\n  }\n\n  function calcPrices() {\n    let total = 0;\n    cart.forEach((item) => {\n      total += (item.salePrice || item.originalPrice) * item.quantity;\n    });\n    return {\n      subtotal: total * 0.9,\n      tax: total * 0.1,\n      total,\n    };\n  }\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <Nav numberOfItems={numberOfItems()} />\n        <Routes>\n          <Route path=\"/\" element={<Home books={books} />} />\n          <Route path=\"/books\" element={<Books books={books} />} />\n          <Route\n            path=\"/books/:id\"\n            element={<BookInfo books={books} addItemToCart={addItemToCart} />}\n          />\n          <Route\n            path=\"/cart\"\n            element={\n              <Cart\n                cart={cart}\n                updateCart={updateCart}\n                removeItem={removeItem}\n                totals={calcPrices()}\n              />\n            }\n          />\n        </Routes>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}