{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import Book from\"../components/Book\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Books=_ref=>{let{books:initalBooks}=_ref;const[books,setBooks]=useState();useEffect(()=>{setBooks(initalBooks);},[initalBooks]);function filterBooks(filter){switch(filter){case\"LOW_TO_HIGH\":return setBooks(books.slice().sort((a,b)=>(a.salePrice||a.originalPrice)-(b.salePrice||b.originalPrice)));case\"HIGH_TO_LOW\":return setBooks(books.slice().sort((a,b)=>(b.salePrice||b.originalPrice)-(a.salePrice||a.originalPrice)));case\"RATING\":return setBooks(books.slice().sort((a,b)=>b.rating-a.rating));default:break;}}return/*#__PURE__*/_jsx(\"div\",{id:\"books__body\",children:/*#__PURE__*/_jsx(\"main\",{id:\"books__main\",children:/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"books__container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"books__header\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"section__title books__header--title\",children:\"All Books\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"filter\",onChange:event=>filterBooks(event.target.value),defaultValue:\"DEFAULT\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"DEFAULT\",disabled:true,children:\"Sort\"}),/*#__PURE__*/_jsx(\"option\",{value:\"LOW_TO_HIGH\",children:\"Price, Low to High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"HIGH_TO_LOW\",children:\"Price, High to Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"RATING\",children:\"Rating\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"books\",children:books&&books.map(book=>{return/*#__PURE__*/_jsx(Book,{book:book},book.id);})})]})})})})});};export default Books;","map":{"version":3,"names":["React","useState","useEffect","Book","jsx","_jsx","jsxs","_jsxs","Books","_ref","books","initalBooks","setBooks","filterBooks","filter","slice","sort","a","b","salePrice","originalPrice","rating","id","children","className","onChange","event","target","value","defaultValue","disabled","map","book"],"sources":["/Users/pharaohmak/Developer/portfolio/Frontend Simplified/projects/React-My-Library/src/pages/Books.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Book from \"../components/Book\";\n\nconst Books = ({ books: initalBooks }) => {\n  const [books, setBooks] = useState();\n\n  useEffect(() => {\n    setBooks(initalBooks);\n  }, [initalBooks]);\n\n  function filterBooks(filter) {\n    switch (filter) {\n      case \"LOW_TO_HIGH\":\n        return setBooks(\n          books\n            .slice()\n            .sort(\n              (a, b) =>\n                (a.salePrice || a.originalPrice) -\n                (b.salePrice || b.originalPrice)\n            )\n        );\n      case \"HIGH_TO_LOW\":\n        return setBooks(\n          books\n            .slice()\n            .sort(\n              (a, b) =>\n                (b.salePrice || b.originalPrice) -\n                (a.salePrice || a.originalPrice)\n            )\n        );\n      case \"RATING\":\n        return setBooks(books.slice().sort((a, b) => b.rating - a.rating));\n      default:\n        break;\n    }\n  }\n\n  return (\n    <div id=\"books__body\">\n      <main id=\"books__main\">\n        <section>\n          <div className=\"books__container\">\n            <div className=\"row\">\n              <div className=\"books__header\">\n                <h2 className=\"section__title books__header--title\">\n                  All Books\n                </h2>\n                <select\n                  id=\"filter\"\n                  onChange={(event) => filterBooks(event.target.value)}\n                  defaultValue={\"DEFAULT\"}\n                >\n                  <option value=\"DEFAULT\" disabled>\n                    Sort\n                  </option>\n                  <option value=\"LOW_TO_HIGH\">Price, Low to High</option>\n                  <option value=\"HIGH_TO_LOW\">Price, High to Low</option>\n                  <option value=\"RATING\">Rating</option>\n                </select>\n              </div>\n              <div className=\"books\">\n                {books && books.map((book) => {\n                  return <Book book={book} key={book.id} />;\n                })}\n              </div>\n            </div>\n          </div>\n        </section>\n      </main>\n    </div>\n  );\n};\n\nexport default Books;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}